#summary OSM map features in an XML file.
#labels Phase-Design

<wiki:toc max_depth="1" />

Tags (more or less key value pairs of meta data on a node) are an essential part of OSM, and for users to have a common basis of those key value pairs to work with, the OSM wiki provides a [http://wiki.openstreetmap.org/wiki/Map_Features list with common map features].

A current working copy of our XML files containing information about those tags can be found at http://userpage.fu-berlin.de/hdinh/xml.tar.bz2 or in the [http://code.google.com/p/swp-dv-ws2010-osm-1/source/browse/trunk/TraceBook/res/raw SVN repository].

= Parsing =

== Tool for parsing==

Ruby scripts for parsing can be found in the [http://code.google.com/p/swp-dv-ws2010-osm-1/source/browse/trunk/OSMtags SVN repository], as well. As of March 18th, they lack comments etc., so please use them with caution.

A Java version of that script might be available some time in the future.

== XML schema ==

For validating the generated XML files, there is an XML schema that can be downloaded [http://swp-dv-ws2010-osm-1.googlecode.com/svn/trunk/OSMtags/OSM_tags.xsd from our SVN repository].

=== DTD ===

The DTD for our XML files looks like this:

{{{
<!DOCTYPE map_features [
        <!ELEMENT map_features (key)*>
        <!ATTLIST map_features
                lang CDATA #REQUIRED
                xmlns CDATA #REQUIRED>
        <!ELEMENT key (value)*>
        <!ATTLIST key
                useful CDATA #REQUIRED
                v CDATA #REQUIRED>
        <!ELEMENT value (uri|img|description|useful)*>
        <!ATTLIST value
                isArea CDATA #REQUIRED
                isNode CDATA #REQUIRED
                isWay CDATA #REQUIRED
                type CDATA #REQUIRED
                v CDATA #REQUIRED>
        <!ELEMENT uri (#PCDATA)>
        <!ELEMENT img (#PCDATA)>
        <!ELEMENT description (#PCDATA)>
        <!ELEMENT useful (#PCDATA)>
        <!ATTLIST useful
                v CDATA #REQUIRED>
        ]>
}}}

== JOSM map features ==
The JOSM map features are located in [http://josm.openstreetmap.de/browser/josm/trunk/data/defaultpresets.xml the defaultpresets.xml].

= Processing =

Currently, the XML file is in use for text box completion of key value pairs, whereas for searching for expressions in keys, values, and the description of the tag, we have set up an SQLite database that contains data from the XML file. The database is supposed to provide time-efficient searching for user input; we do not assume to be even remotely as fast if we were to traverse the information extracted from the XML file for this task.